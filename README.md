# xiao_fishing - Windows 钓鱼演练工具

## 简介

xiao_fishing 是一款用于 Windows 系统的钓鱼演练工具，采用服务端-客户端架构，模拟钓鱼邮件场景，收集受害机器的网络信息并截图保存。工具由两部分组成：

- **服务端**：监听客户端连接，接收并保存网络信息和截图。
- **客户端**：获取本地网络信息，截取屏幕截图，并将数据发送至服务端。

## 功能

- 获取客户端的网络信息（IP 地址、MAC 地址、网卡信息、主机名称等）。
- 捕获客户端的屏幕截图。
- 将网络信息和截图发送到服务端。
- 服务端接收数据并保存到日志文件，并保存客户端的截图。

## 技术栈

- **Go**：用于开发服务端和客户端。
- **screenshot**：用于捕获客户端的屏幕截图。
- **gob**：用于客户端与服务端之间的数据传输。

## 安装

1. 安装 Go 环境：[Go 官方网站](https://golang.org/dl/)

2. 下载或克隆该项目：

   ```
   git clone https://github.com/Jason3329/xiao_fishing.git
   ```

3. 安装依赖：

   ```
   go get -u github.com/gen2brain/dlgs
   go get -u github.com/vova616/screenshot
   ```

## 配置

1. **服务端**：

   - 修改 server.go中的address

      为服务端监听的 IP 和端口：

     ```
     address := "192.168.28.166:56600"
     ```

2. **客户端**：

   - 修改 client.go中的 serverAddr

      为服务端的 IP 和端口：

     ```
     serverAddr := "27.106.110.96:56600"
     ```

## 使用方法

### 启动服务端

1. 编译并运行服务端：

   ```
   go run server.go
   ```

   服务端将会监听指定端口，准备接收来自客户端的连接。

### 启动客户端

1. 编译并运行客户端：

   ```
   go run client.go
   或go build -ldflags -H=windowsgui client.go
   ```

   客户端将会收集网络信息并捕获屏幕截图，然后将数据发送到服务端。

### 查看日志

服务端会将收到的网络信息和截图保存到以下文件：

- `access.log`：保存网络信息的日志。
- 截图文件以主机名、IP 地址和时间戳为文件名，格式为 `.png`。

## 示例

服务端日志（`access.log`）示例：

```
受害者信息：
点击时间: 2024-11-28 14:30:15
IP地址: 192.168.1.101
Mac地址: 00:1A:2B:3C:4D:5E
网卡信息: Ethernet
主机名称: victim-PC
```

## 注意事项

- 请确保客户端和服务端在同一网络环境中，或通过合适的网络配置互通。
- 客户端捕获屏幕截图并发送到服务端，请确保客户端有权限执行截图操作。
- 服务端和客户端必须为Windows主机！

## 开发者

- **项目作者**：`A_xiao`
- **联系方式**：`1577107467@qq.com`
